plugins {
    id "java"
    id "idea"
    id "com.github.johnrengelman.shadow" version "7.0.0"
}

sourceCompatibility = "17"
targetCompatibility = "17"
version = "0.0.1"

repositories {
    mavenCentral()
    maven {
        url "https://packages.confluent.io/maven"
    }
}

dependencies {
    implementation 'org.slf4j:slf4j-nop:2.0.17'
    implementation 'org.apache.kafka:kafka-clients:3.9.1'
    implementation 'io.github.cdimascio:dotenv-java:3.2.0'
    implementation 'com.github.javafaker:javafaker:1.0.2'
    // needed if OAuth is used; otherwise this can be left out.
    implementation 'com.fasterxml.jackson.core:jackson-databind:2.19.0'
}

jar {
    manifest {
        attributes(
                "Class-Path": configurations.runtimeClasspath.collect { it.getName() }.join(" "),
                "Main-Class": "example.SimpleProducer"
        )
    }
}

shadowJar {
    archiveBaseName = "java-client"
    archiveClassifier = ''
}
